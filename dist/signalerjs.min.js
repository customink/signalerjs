!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.signalerjs=t():e.signalerjs=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function i(e){var t={};return e.map(function(e){t[e]=u(e)}),t}function u(e){return h["default"].get((0,c["default"])(e))}function s(e){switch("undefined"==typeof e?"undefined":o(e)){case"string":return{expires:e};case"number":return{expires:(0,m.daysAfterToday)(e)};default:return{}}}function a(e){function t(){switch("undefined"==typeof e?"undefined":o(e)){case"string":return window.fetch(e+".json").then(function(e){return e.json()}).then(function(e){return i(Object.keys(e))});default:var t=i(Object.keys(e));return new Promise(function(e){return e(t)})}}function n(e){var t=u(e);return t?new Promise(function(e){return e(t)}):r(e)}function r(t){switch("undefined"==typeof e?"undefined":o(e)){case"string":return window.fetch(e+"/"+t+".json").then(function(e){return e.json()}).then(function(e){var n=s(e.expires);return a(t,e.flag,n),e.flag});default:var n=e[t],r=(0,y["default"])(n.flags),i=s(n.expires);return a(t,r,i),new Promise(function(e){return e(r)})}}function a(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];h["default"].set((0,c["default"])(e),t,d(n))}var f=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],d=f.transformCookieOptions||function(e){return e};return h["default"].defaults=f.cookieDefaults||b,{featureFlags:t,featureFlag:n,setFeatureFlag:a}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var f=n(2),c=r(f),d=n(5),l=(r(d),n(3)),h=r(l),p=n(4),y=r(p),m=n(1),b={path:"/",domain:(0,m.defaultDomain)(window.location.hostname),expires:(0,m.daysAfterToday)(30)}},function(e,t){"use strict";function n(e){var t=e.split(".");return t.length>2?"."+t.slice(1).join("."):"."+e}function r(e){var t=Date.now(),n=864e5;return new Date(t+e*n).toUTCString()}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultDomain=n,t.daysAfterToday=r},function(e,t,n){var r;!function(o){"use strict";function i(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function u(e,t){return e<<t|e>>>32-t}function s(e,t,n,r,o,s){return i(u(i(i(t,e),i(r,s)),o),n)}function a(e,t,n,r,o,i,u){return s(t&n|~t&r,e,t,o,i,u)}function f(e,t,n,r,o,i,u){return s(t&r|n&~r,e,t,o,i,u)}function c(e,t,n,r,o,i,u){return s(t^n^r,e,t,o,i,u)}function d(e,t,n,r,o,i,u){return s(n^(t|~r),e,t,o,i,u)}function l(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;var n,r,o,u,s,l=1732584193,h=-271733879,p=-1732584194,y=271733878;for(n=0;n<e.length;n+=16)r=l,o=h,u=p,s=y,l=a(l,h,p,y,e[n],7,-680876936),y=a(y,l,h,p,e[n+1],12,-389564586),p=a(p,y,l,h,e[n+2],17,606105819),h=a(h,p,y,l,e[n+3],22,-1044525330),l=a(l,h,p,y,e[n+4],7,-176418897),y=a(y,l,h,p,e[n+5],12,1200080426),p=a(p,y,l,h,e[n+6],17,-1473231341),h=a(h,p,y,l,e[n+7],22,-45705983),l=a(l,h,p,y,e[n+8],7,1770035416),y=a(y,l,h,p,e[n+9],12,-1958414417),p=a(p,y,l,h,e[n+10],17,-42063),h=a(h,p,y,l,e[n+11],22,-1990404162),l=a(l,h,p,y,e[n+12],7,1804603682),y=a(y,l,h,p,e[n+13],12,-40341101),p=a(p,y,l,h,e[n+14],17,-1502002290),h=a(h,p,y,l,e[n+15],22,1236535329),l=f(l,h,p,y,e[n+1],5,-165796510),y=f(y,l,h,p,e[n+6],9,-1069501632),p=f(p,y,l,h,e[n+11],14,643717713),h=f(h,p,y,l,e[n],20,-373897302),l=f(l,h,p,y,e[n+5],5,-701558691),y=f(y,l,h,p,e[n+10],9,38016083),p=f(p,y,l,h,e[n+15],14,-660478335),h=f(h,p,y,l,e[n+4],20,-405537848),l=f(l,h,p,y,e[n+9],5,568446438),y=f(y,l,h,p,e[n+14],9,-1019803690),p=f(p,y,l,h,e[n+3],14,-187363961),h=f(h,p,y,l,e[n+8],20,1163531501),l=f(l,h,p,y,e[n+13],5,-1444681467),y=f(y,l,h,p,e[n+2],9,-51403784),p=f(p,y,l,h,e[n+7],14,1735328473),h=f(h,p,y,l,e[n+12],20,-1926607734),l=c(l,h,p,y,e[n+5],4,-378558),y=c(y,l,h,p,e[n+8],11,-2022574463),p=c(p,y,l,h,e[n+11],16,1839030562),h=c(h,p,y,l,e[n+14],23,-35309556),l=c(l,h,p,y,e[n+1],4,-1530992060),y=c(y,l,h,p,e[n+4],11,1272893353),p=c(p,y,l,h,e[n+7],16,-155497632),h=c(h,p,y,l,e[n+10],23,-1094730640),l=c(l,h,p,y,e[n+13],4,681279174),y=c(y,l,h,p,e[n],11,-358537222),p=c(p,y,l,h,e[n+3],16,-722521979),h=c(h,p,y,l,e[n+6],23,76029189),l=c(l,h,p,y,e[n+9],4,-640364487),y=c(y,l,h,p,e[n+12],11,-421815835),p=c(p,y,l,h,e[n+15],16,530742520),h=c(h,p,y,l,e[n+2],23,-995338651),l=d(l,h,p,y,e[n],6,-198630844),y=d(y,l,h,p,e[n+7],10,1126891415),p=d(p,y,l,h,e[n+14],15,-1416354905),h=d(h,p,y,l,e[n+5],21,-57434055),l=d(l,h,p,y,e[n+12],6,1700485571),y=d(y,l,h,p,e[n+3],10,-1894986606),p=d(p,y,l,h,e[n+10],15,-1051523),h=d(h,p,y,l,e[n+1],21,-2054922799),l=d(l,h,p,y,e[n+8],6,1873313359),y=d(y,l,h,p,e[n+15],10,-30611744),p=d(p,y,l,h,e[n+6],15,-1560198380),h=d(h,p,y,l,e[n+13],21,1309151649),l=d(l,h,p,y,e[n+4],6,-145523070),y=d(y,l,h,p,e[n+11],10,-1120210379),p=d(p,y,l,h,e[n+2],15,718787259),h=d(h,p,y,l,e[n+9],21,-343485551),l=i(l,r),h=i(h,o),p=i(p,u),y=i(y,s);return[l,h,p,y]}function h(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function p(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function y(e){return h(l(p(e),8*e.length))}function m(e,t){var n,r,o=p(e),i=[],u=[];for(i[15]=u[15]=void 0,o.length>16&&(o=l(o,8*e.length)),n=0;16>n;n+=1)i[n]=909522486^o[n],u[n]=1549556828^o[n];return r=l(i.concat(p(t)),512+8*t.length),h(l(u.concat(r),640))}function b(e){var t,n,r="0123456789abcdef",o="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),o+=r.charAt(t>>>4&15)+r.charAt(15&t);return o}function g(e){return unescape(encodeURIComponent(e))}function v(e){return y(g(e))}function w(e){return b(v(e))}function x(e,t){return m(g(e),g(t))}function _(e,t){return b(x(e,t))}function E(e,t,n){return t?n?x(t,e):_(t,e):n?v(e):w(e)}r=function(){return E}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)},function(e,t,n){var r;!function(o,i){"use strict";var u=function(e){if("object"!=typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var t=function(e,n,r){return 1===arguments.length?t.get(e):t.set(e,n,r)};return t._document=e.document,t._cacheKeyPrefix="cookey.",t._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),t.defaults={path:"/",secure:!1},t.get=function(e){t._cachedDocumentCookie!==t._document.cookie&&t._renewCache();var n=t._cache[t._cacheKeyPrefix+e];return n===i?i:decodeURIComponent(n)},t.set=function(e,n,r){return r=t._getExtendedOptions(r),r.expires=t._getExpiresDate(n===i?-1:r.expires),t._document.cookie=t._generateCookieString(e,n,r),t},t.expire=function(e,n){return t.set(e,i,n)},t._getExtendedOptions=function(e){return{path:e&&e.path||t.defaults.path,domain:e&&e.domain||t.defaults.domain,expires:e&&e.expires||t.defaults.expires,secure:e&&e.secure!==i?e.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,n){if(n=n||new Date,"number"==typeof e?e=e===1/0?t._maxExpireDate:new Date(n.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!t._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,n){e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var r=e+"="+t;return r+=n.path?";path="+n.path:"",r+=n.domain?";domain="+n.domain:"",r+=n.expires?";expires="+n.expires.toUTCString():"",r+=n.secure?";secure":""},t._getCacheFromString=function(e){for(var n={},r=e?e.split("; "):[],o=0;o<r.length;o++){var u=t._getKeyValuePairFromCookieString(r[o]);n[t._cacheKeyPrefix+u.key]===i&&(n[t._cacheKeyPrefix+u.key]=u.value)}return n},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");t=0>t?e.length:t;var n,r=e.substr(0,t);try{n=decodeURIComponent(r)}catch(o){console&&"function"==typeof console.error&&console.error('Could not decode cookie with key "'+r+'"',o)}return{key:n,value:e.substr(t+1)}},t._renewCache=function(){t._cache=t._getCacheFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){var e="cookies.js",n="1"===t.set(e,1).get(e);return t.expire(e),n},t.enabled=t._areEnabled(),t},s="object"==typeof o.document?u(o):u;r=function(){return s}.call(t,n,t,e),!(r!==i&&(e.exports=r))}("undefined"==typeof window?this:window)},function(e,t,n){!function(t,n){e.exports=n()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return Array.isArray(e)?u["default"](e):"object"==typeof e?a["default"](e):null}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=n(1),u=r(i),s=n(2),a=r(s);e.exports=t["default"]},function(e,t){"use strict";function n(e){return Math.floor(Math.random()*e)}function r(e){return e[n(e.length)]||null}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function n(e){return Object.keys(e).reduce(function(t,n){return t+e[n]},0)}function r(e){var t=n(e),r={};return Object.keys(e).map(function(n){r[n]=e[n]/t}),r}function o(e){var t=Math.random(),n=r(e),o=0,i=!1;return Object.keys(n).filter(function(e){return o+=n[e],!i&&o>=t?(i=!0,e):void 0})[0]||null}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o,e.exports=t["default"]}])})},function(e,t){!function(){"use strict";function e(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function t(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){this.map={},e instanceof n?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function r(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function o(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function i(e){var t=new FileReader;return t.readAsArrayBuffer(e),o(t)}function u(e){var t=new FileReader;return t.readAsText(e),o(t)}function s(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(h.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(h.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(e){if(!h.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText=""},h.blob?(this.blob=function(){var e=r(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(i)},this.text=function(){var e=r(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=r(this);return e?e:Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(c)}),this.json=function(){return this.text().then(JSON.parse)},this}function a(e){var t=e.toUpperCase();return p.indexOf(t)>-1?t:e}function f(e,t){t=t||{};var r=t.body;if(f.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new n(e.headers)),this.method=e.method,this.mode=e.mode,r||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",(t.headers||!this.headers)&&(this.headers=new n(t.headers)),this.method=a(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function c(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function d(e){var t=new n,r=e.getAllResponseHeaders().trim().split("\n");return r.forEach(function(e){var n=e.trim().split(":"),r=n.shift().trim(),o=n.join(":").trim();t.append(r,o)}),t}function l(e,t){t||(t={}),this._initBody(e),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof n?t.headers:new n(t.headers),this.url=t.url||""}if(!self.fetch){n.prototype.append=function(n,r){n=e(n),r=t(r);var o=this.map[n];o||(o=[],this.map[n]=o),o.push(r)},n.prototype["delete"]=function(t){delete this.map[e(t)]},n.prototype.get=function(t){var n=this.map[e(t)];return n?n[0]:null},n.prototype.getAll=function(t){return this.map[e(t)]||[]},n.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},n.prototype.set=function(n,r){this.map[e(n)]=[t(r)]},n.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){e.call(t,r,n,this)},this)},this)};var h={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self},p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},s.call(f.prototype),s.call(l.prototype),l.prototype.clone=function(){return new l(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})},l.error=function(){var e=new l(null,{status:0,statusText:""});return e.type="error",e};var y=[301,302,303,307,308];l.redirect=function(e,t){if(-1===y.indexOf(t))throw new RangeError("Invalid status code");return new l(null,{status:t,headers:{location:e}})},self.Headers=n,self.Request=f,self.Response=l,self.fetch=function(e,t){return new Promise(function(n,r){function o(){return"responseURL"in u?u.responseURL:/^X-Request-URL:/m.test(u.getAllResponseHeaders())?u.getResponseHeader("X-Request-URL"):void 0}var i;i=f.prototype.isPrototypeOf(e)&&!t?e:new f(e,t);var u=new XMLHttpRequest;u.onload=function(){var e=1223===u.status?204:u.status;if(100>e||e>599)return void r(new TypeError("Network request failed"));var t={status:e,statusText:u.statusText,headers:d(u),url:o()},i="response"in u?u.response:u.responseText;n(new l(i,t))},u.onerror=function(){r(new TypeError("Network request failed"))},u.open(i.method,i.url,!0),"include"===i.credentials&&(u.withCredentials=!0),"responseType"in u&&h.blob&&(u.responseType="blob"),i.headers.forEach(function(e,t){u.setRequestHeader(t,e)}),u.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},self.fetch.polyfill=!0}}()}])});